System.register("chunks:///_virtual/GamePlay.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,r,a,s,o,i,c,u;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,o=t.UITransform,i=t.Component},function(t){c=t.USER},function(t){u=t.TeamManager}],execute:function(){var l;a._RF.push({},"020adiucLlFsowH3MjO0Wqm","GamePlay",void 0);var g=s.ccclass;s.property,t("GamePlay",g("GamePlay")(l=function(t){function a(){for(var e,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(r(e),"PlayerDragons",[]),n(r(e),"EnemyDragons",[]),e}e(a,t);var s=a.prototype;return s.start=function(){this.setupDragons(c.Player,this.PlayerDragons,160,80),this.setupDragons(c.Computer,this.EnemyDragons,160,80)},s.setupDragons=function(t,e,n,r){t==c.Computer||(n=-n);var a=n,s=-.01*this.node.getComponent(o).height;e=u.getInstance().getDragons(t);for(var i=0;i<e.length;i++)this.node.addChild(e[i]),e[i].setPosition(a,s,1),e[i].setScale(.8,.8,1),i%2!=0?s-=2*r:(a+=n,s+=r)},a}(i))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTurn.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var r,t,n,a,s,o,i,d,p,g,h,l,C,u,c,m,f,D;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.defineProperty},function(e){o=e.cclegacy,i=e._decorator,d=e.Prefab,p=e.instantiate,g=e.Sprite,h=e.Color,l=e.UITransform,C=e.Label,u=e.Component,c=e.Node,m=e.CCInteger},function(e){f=e.USER},function(e){D=e.TeamManager}],execute:function(){var y,v,P,S,b;o._RF.push({},"05968nhrBhLgJjoSAo7ULvA","DragonTurn",void 0);var T=i.ccclass,B=i.property;e("DragonTurn",(y=T("DragonTurn"),v=B({type:d}),y((b=r((S=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(a(r),"SpeedCardPrefab",b,a(r)),s(a(r),"speedCards",[]),r}t(r,e);var o=r.prototype;return o.start=function(){for(var e,r=D.getInstance().getDragons(f.Computer),t=D.getInstance().getDragons(f.Player),n=null,a=0;a<t.length+r.length;a++){var s={node:c,name:String,user:f,speed:m};if(s.node=p(this.SpeedCardPrefab),e=s.node.getChildByName("Mask"),a<t.length){n=t[a].getComponent(g).spriteFrame,s.speed=t[a].getComponent("Dragon").CardsData.json.SPD,s.name=t[a].name,s.node.getComponent(g).color=new h(71,31,31);var o=1.5*s.node.height;s.node.getComponent(l).height=o,s.user=f.Player}else n=r[a-t.length].getComponent(g).spriteFrame,s.speed=r[a-t.length].getComponent("Dragon").CardsData.json.SPD,s.name=r[a-t.length].name,s.user=f.Computer;e.getChildByName("Dragon").getComponent(g).spriteFrame=n,this.speedCards.push(s)}this.arrangeDragons(),this.speedCards[0].node.setPosition(0,0,0)},o.arrangeDragons=function(){for(var e=0;e<this.speedCards.length;e++)for(var r=0;r<this.speedCards.length;r++)if(this.speedCards[e].speed>this.speedCards[r].speed){var t=this.speedCards[e];this.speedCards[e]=this.speedCards[r],this.speedCards[r]=t}console.log("after speed cards",this.speedCards);for(var n=0;n<this.speedCards.length;n++){this.speedCards[n].node.getChildByName("Mask").getChildByName("Order").getComponent(C).string=n+1,this.node.addChild(this.speedCards[n].node)}},r}(u)).prototype,"SpeedCardPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/TeamManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var n,e,a,s,r;return{setters:[function(t){n=t.defineProperty},function(t){e=t.cclegacy,a=t.resources,s=t.JsonAsset},function(t){r=t.USER}],execute:function(){e._RF.push({},"0e055FLahdKRaVf1Pe5ImPq","TeamManager",void 0);var o=t("TeamManager",function(){function t(){if(n(this,"_userDragons",[]),n(this,"_AIDragons",[]),n(this,"computerDragons",[]),n(this,"DragonsData",[]),t._instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");t._instance=this}t.getInstance=function(){return t._instance};var e=t.prototype;return e.setDragons=function(t,n){switch(this._userDragons=t,n){case r.Computer:this._AIDragons=t;break;case r.Player:this._userDragons=t}for(var e=0;e<t.length;e++){var a=t[e].getComponent("Dragon");this.setDragonsData(a.dragonData)}},e.setDragonsData=function(t){var n=this;this.checkAvailabelData(t.species,t.type)&&a.load("DragonsData/"+t.species+t.type,s,(function(t,e){n.DragonsData.push(e)}))},e.checkAvailabelData=function(t,n){if(0==this.DragonsData.length)return!0;for(var e=0;e<this.DragonsData.length;e++)if(this.DragonsData[e].species===t&&this.DragonsData[e].type===n)return!1;return!0},e.getUserDragons=function(){return this._userDragons},e.getUserDragonIndex=function(t){return this._userDragons[t]},e.getDragons=function(t){switch(t){case r.Computer:return this._AIDragons;case r.Player:return this._userDragons}},t}());n(o,"_instance",new o),e._RF.pop()}}}));

System.register("chunks:///_virtual/powerCard.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,a,s,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Label,c=e.Animation,u=e.Component}],execute:function(){var p,d,g,f,h,m,y,b,D;o._RF.push({},"0ea13WJTAZLNbhvmLMs99ge","powerCard",void 0);var C=a.ccclass,v=a.property;e("powerCard",(p=C("powerCard"),d=v({type:s}),g=v({type:l}),f=v({type:l}),p((y=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"DragonImage",y,i(t)),n(i(t),"cardName",b,i(t)),n(i(t),"cardDetails",D,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.setDragonCard=function(e,t,r){console.log("Card setted"),this.DragonImage.getComponent(s).spriteFrame=e,this.cardName.string=t,this.cardDetails.string=r,this.node.getComponent(c).on("finished",this.onFinished,this)},o.onFinished=function(e){this.node.destroy(),console.log("Animation ended")},t}(u)).prototype,"DragonImage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"cardName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(m.prototype,"cardDetails",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/DragonDetails.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TeamManager.ts"],(function(e){"use strict";var t,r,n,a,o,i,s,l,g,d,c,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){i=e.cclegacy,s=e._decorator,l=e.Node,g=e.Label,d=e.Sprite,c=e.Prefab,u=e.instantiate,p=e.Component},function(e){h=e.TeamManager}],execute:function(){var D,f,b,m,y,C,I,v,x,S,L,B,w;i._RF.push({},"1fd560vK1hBW5OpmNgAkvOG","DragonDetails",void 0);var z=s.ccclass,P=s.property;e("DragonDetails",(D=z("DragonDetails"),f=P({type:l}),b=P({type:l}),m=P({type:g}),y=P({type:d}),C=P({type:c}),D((x=t((v=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(a(t),"cardLayout",x,a(t)),n(a(t),"dragonBoard",S,a(t)),n(a(t),"nameLabel",L,a(t)),n(a(t),"DragonSprite",B,a(t)),n(a(t),"dragonCardPrefab",w,a(t)),o(a(t),"selectedDragonIndex",0),o(a(t),"dragonCards",[]),t}r(t,e);var i=t.prototype;return i.start=function(){for(var e=null,t=0;t<h.getInstance().getUserDragons().length;t++)e=u(this.dragonCardPrefab),this.cardLayout.addChild(e),e.getComponent("DragonBoard").setDragon(t),this.dragonCards.push(e);this.dragonCards[this.selectedDragonIndex].getComponent("DragonBoard").toggleSelected(),e=h.getInstance().getUserDragonIndex(this.selectedDragonIndex),this.DragonSprite.spriteFrame=e.getComponent(d).spriteFrame,this.nameLabel.string=e.name},i.backButtonClick=function(){this.node.active=!this.node.active},i.leftArrowClick=function(){this.selectedDragonIndex>0&&this.setSelectedDragon(this.selectedDragonIndex-1)},i.rightArrowClick=function(){this.selectedDragonIndex<this.dragonCards.length-1&&this.setSelectedDragon(this.selectedDragonIndex+1)},i.setSelectedDragon=function(e){var t=this.dragonCards[this.selectedDragonIndex].getComponent("DragonBoard");t.toggleSelected(),(t=this.dragonCards[e].getComponent("DragonBoard")).toggleSelected();var r=h.getInstance().getUserDragonIndex(e);this.nameLabel.string=r.name,this.DragonSprite.spriteFrame=r.getComponent(d).spriteFrame,this.selectedDragonIndex=e},t}(p)).prototype,"cardLayout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"dragonBoard",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(v.prototype,"nameLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(v.prototype,"DragonSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"dragonCardPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=v))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/DragonBoard.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TeamManager.ts"],(function(e){"use strict";var t,r,n,o,i,a,c,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Node,s=e.Sprite,l=e.Component},function(e){u=e.TeamManager}],execute:function(){var p,g,d,f,y,D,h;i._RF.push({},"7605eEZPoJD0Y6I4nC1Gny4","DragonBoard",void 0);var v=a.ccclass,m=a.property;e("DragonBoard",(p=v("DragonBoard"),g=m({type:c}),d=m({type:s}),p((D=t((y=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(o(t),"selectionNode",D,o(t)),n(o(t),"DragonNode",h,o(t)),t}r(t,e);var i=t.prototype;return i.start=function(){},i.setDragon=function(e){var t=u.getInstance().getUserDragonIndex(e);this.DragonNode.spriteFrame=t.getComponent(s).spriteFrame},i.toggleSelected=function(){this.selectionNode.active=!this.selectionNode.active},t}(l)).prototype,"selectionNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(y.prototype,"DragonNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Dragon.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,o,n,a,s,i,c,u,p,l,d,g,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){s=e.cclegacy,i=e._decorator,c=e.Prefab,u=e.resources,p=e.SpriteFrame,l=e.Sprite,d=e.JsonAsset,g=e.instantiate,f=e.Component}],execute:function(){var D,h,m,C,y;s._RF.push({},"93cc2UZoadD/J8sRaz1v58A","Dragon",void 0);var R=i.ccclass,v=i.property;e("Dragon",(D=R("Dragon"),h=v({type:c}),D((y=r((C=function(e){function r(){for(var r,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return r=e.call.apply(e,[this].concat(s))||this,o(n(r),"cardPrefab",y,n(r)),a(n(r),"dragonName",""),a(n(r),"CardsData",null),a(n(r),"dragonData",[]),a(n(r),"DragonsCard",[]),r}t(r,e);var s=r.prototype;return s.start=function(){},s.loadRoomResource=function(e,r){return new Promise((function(t,o){u.load(e,r,(function(e,r){e?o(e):t(r)}))}))},s.setDragon=function(e){var r=this;this.node.name=e.species+" "+e.type,this.loadRoomResource(e.Image+"/spriteFrame",p).then((function(t){r.node.getComponent(l).spriteFrame=t,r.loadRoomResource("DragonsData/"+e.species+e.type,d).then((function(e){r.CardsData=e,r.setDragonCards(r.CardsData.json.CardData)})).catch((function(e){console.log("Error Loading Base URL")}))})).catch((function(e){console.log("Error Loading Base URL")}))},s.setDragonCards=function(e){for(var r,t=0;t<e.length;t++)(r=g(this.cardPrefab)).getComponent("powerCard").setDragonCard(this.node.getComponent(l).spriteFrame,e[t].Name,e[t].Description),this.DragonsCard.push(r)},r}(f)).prototype,"cardPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/powerCardLayout.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,e,o,n,a,c;return{setters:[function(r){t=r.inheritsLoose,e=r.defineProperty,o=r.assertThisInitialized},function(r){n=r.cclegacy,a=r._decorator,c=r.Component}],execute:function(){var s;n._RF.push({},"955c05H45hIBrZpWe3dq0dz","powerCardLayout",void 0);var i=a.ccclass;a.property,r("powerCardLayout",i("powerCardLayout")(s=function(r){function n(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=r.call.apply(r,[this].concat(a))||this,e(o(t),"cardsNode",null),t}t(n,r);var a=n.prototype;return a.start=function(){},a.setCard=function(r,t){this.cardsNode=r;for(var e=0;e<r.length;e++)console.log("Added card"),this.node.addChild(r[e])},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var n;t("USER",void 0),e._RF.push({},"983031nyw9FQIJwcEg5FXwu","Constants",void 0),function(t){t[t.Computer=0]="Computer",t[t.Player=1]="Player"}(n||(n=t("USER",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScript.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var t,n,r,o,a,i,s,l,c,u,p,g,f,m,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.JsonAsset,l=e.Prefab,c=e.Node,u=e.CCInteger,p=e.resources,g=e.instantiate,f=e.Component},function(e){m=e.USER},function(e){D=e.TeamManager}],execute:function(){var h,b,y,d,v,k,C,N,P,S,w;a._RF.push({},"ab569UGGgpNRJjBmXgcwbDE","HomeScript",void 0);var z=i.ccclass,I=i.property;e("HomeScript",(h=z("HomeScript"),b=I({type:s}),y=I({type:l}),d=I({type:c}),v=I({type:u}),h((N=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(o(t),"DragonsData",N,o(t)),r(o(t),"DragonPrefab",P,o(t)),r(o(t),"skeletonNode",S,o(t)),r(o(t),"DragonsCount",w,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this,t=this.getRandomDragons();D.getInstance().setDragons(t[m.Computer],m.Computer),D.getInstance().setDragons(t[m.Player],m.Player),p.loadDir("spine",(function(t,n){for(var r=0;r<n.length;r++)if(n[r].skeletonJson){var o=Object.keys(n[r].skeletonJson.animations)[0];if(!o)break;var a=e.skeletonNode.getComponent("sp.Skeleton");a.skeletonData=n[r],console.log(o);a.setAnimation(0,o,!0);console.log(a);break}}))},a.getRandomDragons=function(){for(var e=this.DragonsData.json,t=Array.apply(null,{length:e.Data.length}).map(Number.call,Number),n=0,r=[],o=[],a=null,i=0;i<2*this.DragonsCount;i++)n=this.randomInt(0,t.length-1),(a=g(this.DragonPrefab)).getComponent("Dragon").setDragon(e.Data[t[n]]),i<this.DragonsCount?r.push(a):o.push(a),t.splice(n,1);return[r,o]},a.backButtonclick=function(e,t){var n=this.node.parent.getChildByName(t);n.active=!n.active,this.node.active=!this.node.active},a.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t}(f)).prototype,"DragonsData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"DragonPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(C.prototype,"skeletonNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"DragonsCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),k=C))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardsControl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var r,t,n,a,o,i,s,u,l,c,p,d,f,y;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){i=e.cclegacy,s=e._decorator,u=e.Prefab,l=e.Node,c=e.Animation,p=e.Component,d=e.instantiate},function(e){f=e.USER},function(e){y=e.TeamManager}],execute:function(){var C,g,m,v,b,h,P;i._RF.push({},"ff43a4NNXRJUIHxVeuauHNd","CardsControl",void 0);var D=s.ccclass,L=s.property;e("CardsControl",(C=D("CardsControl"),g=L({type:u}),m=L({type:l}),C((h=r((b=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(a(r),"cardsLayoutPrefab",h,a(r)),n(a(r),"speedCards",P,a(r)),o(a(r),"cardsLayouts",null),r}t(r,e);var i=r.prototype;return i.start=function(){for(var e=this,r=this.speedCards.getComponent("DragonTurn").speedCards.filter((function(e){return e.user==f.Player})),t=null,n=function(n){t=d(e.cardsLayoutPrefab),e.node.addChild(t),t.on(l.EventType.MOUSE_DOWN,e.mouseHover,e);var a=y.getInstance().getDragons(f.Player).find((function(e){return e.name===r[n].name}));t.getComponent("powerCardLayout").setCard(a.getComponent("Dragon").DragonsCard,r[n])},a=0;a<r.length;a++)n(a)},i.mouseHover=function(e){e.target.getComponent(c).play()},r}(p)).prototype,"cardsLayoutPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(b.prototype,"speedCards",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./TeamManager.ts","./GamePlay.ts","./DragonTurn.ts","./powerCard.ts","./DragonDetails.ts","./DragonBoard.ts","./Dragon.ts","./powerCardLayout.ts","./HomeScript.ts","./CardsControl.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});